// -*- coding: utf-8 -*-
// Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ñ…Ð»Ð°Ð¼Ð° Ð¸ ÑÐ¾ÐºÑ€Ð¾Ð²Ð¸Ñ‰
// ÐœÐ¾Ð¶Ð½Ð¾ Ð¿Ð¾Ð¹Ð¼Ð°Ñ‚ÑŒ Ð²Ð¼ÐµÑÑ‚Ð¾ Ñ€Ñ‹Ð±Ñ‹
// Ð”Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð°: Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ñ‹ ÑÐ°Ð¼Ð¸ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÑŽÑ‚, Ð³Ð´Ðµ Ð¾Ð½Ð¸ Ð¼Ð¾Ð³ÑƒÑ‚ Ð¿Ð¾ÑÐ²Ð¸Ñ‚ÑŒÑÑ

const JUNK_DATABASE = [
  {
    id: 1,
    name: "Ð Ð¶Ð°Ð²Ð°Ñ Ð³Ð°Ð¹ÐºÐ°",
    category: "ÐœÑƒÑÐ¾Ñ€",
    sellPrice: 5,
    sprite: "g1.png",
    emoji: "ðŸ”©",
    description: "Ð¡Ñ‚Ð°Ñ€Ð°Ñ Ð¼ÐµÑ‚Ð°Ð»Ð»Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð³Ð°Ð¹ÐºÐ°, Ð¿Ð¾ÐºÑ€Ñ‹Ñ‚Ð°Ñ Ñ€Ð¶Ð°Ð²Ñ‡Ð¸Ð½Ð¾Ð¹. ÐšÐ¾Ð³Ð´Ð°-Ñ‚Ð¾ Ð±Ñ‹Ð»Ð° Ñ‡Ð°ÑÑ‚ÑŒÑŽ ÐºÐ°ÐºÐ¾Ð³Ð¾-Ñ‚Ð¾ Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼Ð°, Ð½Ð¾ Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð²Ð°Ð»ÑÐµÑ‚ÑÑ Ð½Ð° Ð´Ð½Ðµ Ð²Ð¾Ð´Ð¾Ñ‘Ð¼Ð°.",
    // Ð”Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð°
    zones: [1, 2, 3, 4, 5, 6],  // Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð° Ð² Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð·Ð¾Ð½Ð°Ñ…
    baseChance: 0.30,            // Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ ÑˆÐ°Ð½Ñ 30% (Ð¾Ñ‚ Ð¾Ð±Ñ‰ÐµÐ³Ð¾ ÑˆÐ°Ð½ÑÐ° Ð¼ÑƒÑÐ¾Ñ€Ð°)
    chanceModifier: {            // ÐœÐ¾Ð´Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€Ñ‹ Ð¿Ð¾ Ð·Ð¾Ð½Ð°Ð¼
      1: 2.0,   // Ð’ Ð·Ð¾Ð½Ðµ 1 ÑˆÐ°Ð½Ñ x2.0 (60%)
      2: 1.8,   // Ð’ Ð·Ð¾Ð½Ðµ 2 ÑˆÐ°Ð½Ñ x1.8 (54%)
      3: 1.5,   // Ð’ Ð·Ð¾Ð½Ðµ 3 ÑˆÐ°Ð½Ñ x1.5 (45%)
      4: 1.2,   // Ð’ Ð·Ð¾Ð½Ðµ 4 ÑˆÐ°Ð½Ñ x1.2 (36%)
      5: 0.8,   // Ð’ Ð·Ð¾Ð½Ðµ 5 ÑˆÐ°Ð½Ñ x0.8 (24%)
      6: 0.5    // Ð’ Ð·Ð¾Ð½Ðµ 6 ÑˆÐ°Ð½Ñ x0.5 (15%)
    }
  },
  {
    id: 2,
    name: "Ð–ÐµÑÑ‚ÑÐ½Ð°Ñ Ð±Ð°Ð½ÐºÐ°",
    category: "ÐœÑƒÑÐ¾Ñ€",
    sellPrice: 8,
    sprite: "g2.png",
    emoji: "ðŸ¥«",
    description: "ÐŸÑƒÑÑ‚Ð°Ñ ÐºÐ¾Ð½ÑÐµÑ€Ð²Ð½Ð°Ñ Ð±Ð°Ð½ÐºÐ° Ð±ÐµÐ· ÑÑ‚Ð¸ÐºÐµÑ‚ÐºÐ¸. Ð’Ð¸Ð´Ð¸Ð¼Ð¾, ÐºÑ‚Ð¾-Ñ‚Ð¾ Ð½Ðµ Ð¾Ñ‡ÐµÐ½ÑŒ Ð·Ð°Ð±Ð¾Ñ‚Ð¸Ð»ÑÑ Ð¾Ð± ÑÐºÐ¾Ð»Ð¾Ð³Ð¸Ð¸ Ð¸ Ð²Ñ‹Ð±Ñ€Ð¾ÑÐ¸Ð» ÐµÑ‘ Ð¿Ñ€ÑÐ¼Ð¾ Ð² Ð²Ð¾Ð´Ñƒ.",
    zones: [1, 2, 3, 4, 5, 6, 7],
    baseChance: 0.25,
    chanceModifier: {
      1: 1.8,
      2: 1.6,
      3: 1.4,
      4: 1.2,
      5: 1.0,
      6: 0.7,
      7: 0.4
    }
  },
  {
    id: 3,
    name: "Ð¡Ñ‚Ð°Ñ€Ñ‹Ð¹ ÑÐ°Ð¿Ð¾Ð³",
    category: "ÐœÑƒÑÐ¾Ñ€",
    sellPrice: 12,
    sprite: "g3.png",
    emoji: "ðŸ‘¢",
    description: "ÐŸÐ¾Ñ‚Ñ‘Ñ€Ñ‚Ñ‹Ð¹ ÐºÐ¾Ð¶Ð°Ð½Ñ‹Ð¹ ÑÐ°Ð¿Ð¾Ð³, Ð¿Ð¾Ñ‚ÐµÑ€ÑÐ²ÑˆÐ¸Ð¹ ÑÐ²Ð¾ÑŽ Ð¿Ð°Ñ€Ñƒ. Ð˜Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ð¾, ÐºÐ°Ðº Ð¾Ð½ Ð¿Ð¾Ð¿Ð°Ð» Ð² Ð²Ð¾Ð´Ñƒ? ÐœÐ¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ, ÐµÐ³Ð¾ Ð²Ð»Ð°Ð´ÐµÐ»ÐµÑ† Ð¿Ð¾ÑÐºÐ¾Ð»ÑŒÐ·Ð½ÑƒÐ»ÑÑ Ð½Ð° Ð±ÐµÑ€ÐµÐ³Ñƒ?",
    zones: [1, 2, 3, 4, 5, 6, 7, 8],
    baseChance: 0.20,
    chanceModifier: {
      1: 1.5,
      2: 1.4,
      3: 1.3,
      4: 1.2,
      5: 1.0,
      6: 0.8,
      7: 0.6,
      8: 0.3
    }
  },
  {
    id: 4,
    name: "Ð Ð¶Ð°Ð²Ð°Ñ Ð±Ð»ÐµÑÐ½Ð°",
    category: "ÐœÑƒÑÐ¾Ñ€",
    sellPrice: 20,
    sprite: "g4.png",
    emoji: "ðŸŽ£",
    description: "Ð¡Ñ‚Ð°Ñ€Ð°Ñ Ñ€Ñ‹Ð±Ð¾Ð»Ð¾Ð²Ð½Ð°Ñ Ð±Ð»ÐµÑÐ½Ð°, Ð¿Ð¾Ñ‚ÐµÑ€ÑÐ²ÑˆÐ°Ñ ÑÐ²Ð¾Ð¹ Ð±Ð»ÐµÑÐº. Ð’Ð¸Ð´Ð¸Ð¼Ð¾, ÐºÑ‚Ð¾-Ñ‚Ð¾ Ð¸Ð· Ñ€Ñ‹Ð±Ð°ÐºÐ¾Ð² Ð·Ð°Ñ†ÐµÐ¿Ð¸Ð»ÑÑ Ð·Ð° ÐºÐ¾Ñ€ÑÐ³Ñƒ Ð¸ Ð¿Ð¾Ñ‚ÐµÑ€ÑÐ» ÑÐ²Ð¾ÑŽ Ð¿Ñ€Ð¸Ð¼Ð°Ð½ÐºÑƒ.",
    zones: [3, 4, 5, 6, 7, 8, 9, 10],
    baseChance: 0.18,
    chanceModifier: {
      3: 1.8,
      4: 1.6,
      5: 1.4,
      6: 1.2,
      7: 1.0,
      8: 0.8,
      9: 0.5,
      10: 0.3
    }
  },
  {
    id: 5,
    name: "Ð¡Ð»Ð¾Ð¼Ð°Ð½Ð½Ñ‹Ð¹ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½",
    category: "ÐœÑƒÑÐ¾Ñ€",
    sellPrice: 80,
    sprite: "g5.png",
    emoji: "ðŸ“±",
    description: "Ð¡Ñ‚Ð°Ñ€Ñ‹Ð¹ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½ Ñ Ñ‚Ñ€ÐµÑÐ½ÑƒÐ²ÑˆÐ¸Ð¼ ÑÐºÑ€Ð°Ð½Ð¾Ð¼. ÐÐ°Ð²ÐµÑ€Ð½Ð¾Ðµ, ÑƒÐ¿Ð°Ð» Ð² Ð²Ð¾Ð´Ñƒ Ð²Ð¾ Ð²Ñ€ÐµÐ¼Ñ ÑÐµÐ»Ñ„Ð¸ Ð½Ð° Ð±ÐµÑ€ÐµÐ³Ñƒ. Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¾Ð½ Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð½Ðµ Ð²ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑÑ.",
    zones: [7, 8, 9, 10, 11, 12],
    baseChance: 0.15,
    chanceModifier: {
      7: 1.5,
      8: 1.4,
      9: 1.2,
      10: 1.0,
      11: 0.7,
      12: 0.4
    }
  },
  {
    id: 6,
    name: "ÐŸÐ¾Ñ‚ÐµÑ€ÑÐ½Ð½Ñ‹Ðµ Ñ‡Ð°ÑÑ‹",
    category: "Ð ÐµÐ´ÐºÐ¾ÑÑ‚ÑŒ",
    sellPrice: 220,
    sprite: "g6.png",
    emoji: "âŒš",
    description: "Ð­Ð»ÐµÐ³Ð°Ð½Ñ‚Ð½Ñ‹Ðµ Ð½Ð°Ñ€ÑƒÑ‡Ð½Ñ‹Ðµ Ñ‡Ð°ÑÑ‹ Ñ ÐºÐ¾Ð¶Ð°Ð½Ñ‹Ð¼ Ñ€ÐµÐ¼ÐµÑˆÐºÐ¾Ð¼. Ð¥Ð¾Ñ‚Ñ Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼ Ð·Ð°Ñ€Ð¶Ð°Ð²ÐµÐ», ÐºÐ¾Ñ€Ð¿ÑƒÑ ÐµÑ‰Ñ‘ Ð² Ð½ÐµÐ¿Ð»Ð¾Ñ…Ð¾Ð¼ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ð¸. ÐšÑ‚Ð¾-Ñ‚Ð¾ Ð¾Ñ‡ÐµÐ½ÑŒ Ñ€Ð°ÑÑÑ‚Ñ€Ð¾Ð¸Ð»ÑÑ, Ð¿Ð¾Ñ‚ÐµÑ€ÑÐ² Ð¸Ñ….",
    zones: [8, 9, 10, 11, 12, 13, 14],
    baseChance: 0.12,
    chanceModifier: {
      8: 1.3,
      9: 1.2,
      10: 1.1,
      11: 1.0,
      12: 0.9,
      13: 0.7,
      14: 0.5
    }
  },
  {
    id: 7,
    name: "ÐšÐ¾Ð»ÑŒÑ†Ð¾/ÑƒÐºÑ€Ð°ÑˆÐµÐ½Ð¸Ðµ",
    category: "Ð¡Ð¾ÐºÑ€Ð¾Ð²Ð¸Ñ‰Ðµ",
    sellPrice: 750,
    sprite: "g7.png",
    emoji: "ðŸ’",
    description: "ÐšÑ€Ð°ÑÐ¸Ð²Ð¾Ðµ Ð·Ð¾Ð»Ð¾Ñ‚Ð¾Ðµ ÐºÐ¾Ð»ÑŒÑ†Ð¾ Ñ Ð½ÐµÐ±Ð¾Ð»ÑŒÑˆÐ¸Ð¼ ÐºÐ°Ð¼Ð½ÐµÐ¼. Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾, ÑÑ‚Ð¾ Ð±Ñ‹Ð»Ð¾ Ð¾Ð±Ñ€ÑƒÑ‡Ð°Ð»ÑŒÐ½Ð¾Ðµ ÐºÐ¾Ð»ÑŒÑ†Ð¾ Ð¸Ð»Ð¸ ÑÐµÐ¼ÐµÐ¹Ð½Ð°Ñ Ñ€ÐµÐ»Ð¸ÐºÐ²Ð¸Ñ. ÐÐ°ÑÑ‚Ð¾ÑÑ‰Ð°Ñ Ð½Ð°Ñ…Ð¾Ð´ÐºÐ° Ð´Ð»Ñ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¾Ð½ÐµÑ€Ð°!",
    zones: [10, 11, 12, 13, 14, 15, 16],
    baseChance: 0.10,
    chanceModifier: {
      10: 1.2,
      11: 1.1,
      12: 1.0,
      13: 0.9,
      14: 0.8,
      15: 0.7,
      16: 0.5
    }
  },
  {
    id: 8,
    name: "Ð¡Ñ‚Ð°Ñ€Ð¸Ð½Ð½Ð°Ñ Ð¼Ð¾Ð½ÐµÑ‚Ð°",
    category: "Ð¡Ð¾ÐºÑ€Ð¾Ð²Ð¸Ñ‰Ðµ",
    sellPrice: 1400,
    sprite: "g8.png",
    emoji: "ðŸª™",
    description: "Ð”Ñ€ÐµÐ²Ð½ÑÑ Ð¼Ð¾Ð½ÐµÑ‚Ð° Ñ ÐµÐ´Ð²Ð° Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð¸Ð¼Ñ‹Ð¼Ð¸ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°Ð¼Ð¸. Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾, Ð¾Ð½Ð° Ð¿Ñ€Ð¾Ð»ÐµÐ¶Ð°Ð»Ð° Ð½Ð° Ð´Ð½Ðµ Ð²Ð¾Ð´Ð¾Ñ‘Ð¼Ð° Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð²ÐµÐºÐ¾Ð². ÐÐ½Ñ‚Ð¸ÐºÐ²Ð°Ñ€Ñ‹ Ð·Ð°Ð¿Ð»Ð°Ñ‚ÑÑ‚ Ð·Ð° Ð½ÐµÑ‘ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¸Ðµ Ð´ÐµÐ½ÑŒÐ³Ð¸.",
    zones: [13, 14, 15, 16, 17, 18],
    baseChance: 0.08,
    chanceModifier: {
      13: 1.2,
      14: 1.1,
      15: 1.0,
      16: 0.9,
      17: 0.8,
      18: 0.6
    }
  },
  {
    id: 9,
    name: "ÐšÑƒÐ»Ð¾Ð½ Ñ Ð³Ñ€Ð°Ð²Ð¸Ñ€Ð¾Ð²ÐºÐ¾Ð¹",
    category: "Ð¡Ð¾ÐºÑ€Ð¾Ð²Ð¸Ñ‰Ðµ",
    sellPrice: 2200,
    sprite: "g8.png",
    emoji: "ðŸ“¿",
    description: "Ð˜Ð·ÑÑ‰Ð½Ñ‹Ð¹ ÑÐµÑ€ÐµÐ±Ñ€ÑÐ½Ñ‹Ð¹ ÐºÑƒÐ»Ð¾Ð½ Ñ Ð²Ñ‹Ð³Ñ€Ð°Ð²Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¼Ð¸ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð°Ð¼Ð¸ Ð¸ Ð´Ð°Ñ‚Ð¾Ð¹. Ð­Ñ‚Ð¾ ÑÐ²Ð½Ð¾ Ð±Ñ‹Ð»Ð¾ Ð´Ð¾Ñ€Ð¾Ð³Ð¾ ÑÐµÑ€Ð´Ñ†Ñƒ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð°. ÐÐ°ÑÑ‚Ð¾ÑÑ‰ÐµÐµ ÑÐ¾ÐºÑ€Ð¾Ð²Ð¸Ñ‰Ðµ Ñ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÐµÐ¹.",
    zones: [15, 16, 17, 18, 19, 20],
    baseChance: 0.06,
    chanceModifier: {
      15: 1.3,
      16: 1.2,
      17: 1.1,
      18: 1.0,
      19: 0.9,
      20: 0.8
    }
  }
];

// ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ð¾Ð±Ñ‰ÐµÐ³Ð¾ ÑˆÐ°Ð½ÑÐ° Ð²Ñ‹Ð¿Ð°Ð´ÐµÐ½Ð¸Ñ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð¾Ð² Ð¿Ð¾ Ð·Ð¾Ð½Ð°Ð¼
const JUNK_ZONE_CHANCE = {
  1: 0.10,   // 10% - Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¹ ÑˆÐ°Ð½Ñ
  2: 0.10,   // 10%
  3: 0.09,   // 9%
  4: 0.09,   // 9%
  5: 0.08,   // 8%
  6: 0.08,   // 8%
  7: 0.07,   // 7%
  8: 0.07,   // 7%
  9: 0.06,   // 6%
  10: 0.06,  // 6%
  11: 0.06,  // 6%
  12: 0.05,  // 5%
  13: 0.05,  // 5%
  14: 0.05,  // 5%
  15: 0.04,  // 4%
  16: 0.04,  // 4%
  17: 0.04,  // 4%
  18: 0.03,  // 3%
  19: 0.03,  // 3%
  20: 0.03   // 3% - Ñ„Ð¸Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð·Ð¾Ð½Ð°
};

// Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚
if (typeof module !== 'undefined' && module.exports) {
  module.exports = { JUNK_DATABASE, JUNK_ZONE_CHANCE };
}

// Ð’ÑÐ¿Ð¾Ð¼Ð¾Ð³Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸
const JunkDB = {
  // ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚ Ð¿Ð¾ ID
  getById: (id) => JUNK_DATABASE.find(item => item.id === id),
  
  // ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ñ‹ Ð¿Ð¾ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸
  getByCategory: (category) => JUNK_DATABASE.filter(item => item.category === category),
  
  // ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ñ‹ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ Ð² Ð·Ð¾Ð½Ðµ
  getByZone: (zoneId) => JUNK_DATABASE.filter(item => item.zones && item.zones.includes(zoneId)),
  
  // ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ñ‹Ð¹ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚ (ÑÑ‚Ð°Ñ€Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚Ð¸)
  getRandomJunk: () => JUNK_DATABASE[Math.floor(Math.random() * JUNK_DATABASE.length)],
  
  // ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¾Ð±Ñ‰ÐµÐµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð¾Ð²
  getTotalCount: () => JUNK_DATABASE.length,
  
  // ÐÐžÐ’ÐÐ¯ Ð¤Ð£ÐÐšÐ¦Ð˜Ð¯: ÐŸÐ¾Ð¿Ñ‹Ñ‚ÐºÐ° Ð¿Ð¾Ð¹Ð¼Ð°Ñ‚ÑŒ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚ Ð² Ð·Ð¾Ð½Ðµ
  tryGetJunkFromZone: (zoneId) => {
    // ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ Ð¾Ð±Ñ‰Ð¸Ð¹ ÑˆÐ°Ð½Ñ Ð²Ñ‹Ð¿Ð°Ð´ÐµÐ½Ð¸Ñ Ð´Ð»Ñ Ð·Ð¾Ð½Ñ‹
    const zoneChance = JUNK_ZONE_CHANCE[zoneId] || 0.05;
    
    // ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼, Ð²Ñ‹Ð¿Ð°Ð´ÐµÑ‚ Ð»Ð¸ Ð²Ð¾Ð¾Ð±Ñ‰Ðµ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚
    const randomRoll = Math.random();
    
    if (randomRoll > zoneChance) {
      return null; // ÐŸÑ€ÐµÐ´Ð¼ÐµÑ‚ Ð½Ðµ Ð²Ñ‹Ð¿Ð°Ð»
    }
    
    // ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ñ‹ Ð² ÑÑ‚Ð¾Ð¹ Ð·Ð¾Ð½Ðµ
    const availableItems = JUNK_DATABASE.filter(item => 
      item.zones && item.zones.includes(zoneId)
    );
    
    if (availableItems.length === 0) {
      return null; // ÐÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ñ… Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð¾Ð²
    }
    
    // Ð’Ñ‹Ñ‡Ð¸ÑÐ»ÑÐµÐ¼ Ð²ÐµÑÐ° Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð° Ñ ÑƒÑ‡Ñ‘Ñ‚Ð¾Ð¼ Ð¼Ð¾Ð´Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€Ð¾Ð²
    const weightedItems = availableItems.map(item => {
      const modifier = item.chanceModifier && item.chanceModifier[zoneId] 
        ? item.chanceModifier[zoneId] 
        : 1.0;
      const weight = item.baseChance * modifier;
      return {
        item: item,
        weight: weight
      };
    });
    
    // Ð’Ñ‹Ð±Ð¸Ñ€Ð°ÐµÐ¼ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚ Ð¿Ð¾ Ð²ÐµÑÐ°Ð¼
    const totalWeight = weightedItems.reduce((sum, wi) => sum + wi.weight, 0);
    let random = Math.random() * totalWeight;
    
    for (const weightedItem of weightedItems) {
      random -= weightedItem.weight;
      if (random <= 0) {
        return weightedItem.item;
      }
    }
    
    // Fallback: Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚
    return weightedItems[0].item;
  },
  
  // ÐÐžÐ’ÐÐ¯ Ð¤Ð£ÐÐšÐ¦Ð˜Ð¯: ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÑˆÐ°Ð½Ñ Ð²Ñ‹Ð¿Ð°Ð´ÐµÐ½Ð¸Ñ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð° Ð² Ð·Ð¾Ð½Ðµ (Ð´Ð»Ñ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ¸/UI)
  getJunkChanceInZone: (zoneId) => {
    const zoneChance = JUNK_ZONE_CHANCE[zoneId] || 0.05;
    const availableItems = JUNK_DATABASE.filter(item => 
      item.zones && item.zones.includes(zoneId)
    );
    
    return {
      totalChance: zoneChance,
      itemCount: availableItems.length,
      items: availableItems.map(item => {
        const modifier = item.chanceModifier && item.chanceModifier[zoneId] 
          ? item.chanceModifier[zoneId] 
          : 1.0;
        return {
          id: item.id,
          name: item.name,
          relativeChance: item.baseChance * modifier,
          category: item.category,
          sellPrice: item.sellPrice
        };
      })
    };
  },
  
  // ÐÐžÐ’ÐÐ¯ Ð¤Ð£ÐÐšÐ¦Ð˜Ð¯: ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÑƒ Ð¿Ð¾ Ð²ÑÐµÐ¼ Ð·Ð¾Ð½Ð°Ð¼ (Ð´Ð»Ñ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ¸)
  getZoneStatistics: () => {
    const stats = {};
    
    for (let zoneId = 1; zoneId <= 20; zoneId++) {
      stats[zoneId] = JunkDB.getJunkChanceInZone(zoneId);
    }
    
    return stats;
  },
  
  // Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð´ÐµÐ±Ð°Ð³ Ð¿Ð°Ð½ÐµÐ»Ð¸ - Ð¿Ñ€Ð¸Ð½ÑƒÐ´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð²Ñ‹Ð±Ð¸Ñ€Ð°ÐµÑ‚ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ñ‹Ð¹ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚ Ð¸Ð· Ð·Ð¾Ð½Ñ‹
  getRandomJunkFromZone: (zoneId) => {
    const availableItems = JUNK_DATABASE.filter(item => 
      item.zones && item.zones.includes(zoneId)
    );
    
    if (availableItems.length === 0) {
      return null;
    }
    
    return availableItems[Math.floor(Math.random() * availableItems.length)];
  }
};

if (typeof module !== 'undefined' && module.exports) {
  module.exports.JunkDB = JunkDB;
}
